(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8666],{22460:function(n,e,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard/history",function(){return r(60781)}])},46723:function(n,e,r){"use strict";r.d(e,{s:function(){return i}});var t=r(67294),i=function(){var n=(0,t.useRef)(!1);return(0,t.useEffect)((function(){return n.current=!0,function(){n.current=!1}}),[]),(0,t.useCallback)((function(){return n.current}),[])}},60781:function(n,e,r){"use strict";r.r(e),r.d(e,{default:function(){return B}});var t=r(47568),i=r(26042),s=r(828),a=r(20414),o=r(85893),c=r(67294),l=r(69417),u=r(5605),d=r(30120),h=r(44731),x=r(29630),f=r(80562),p=r(36336),j=r(79072),m=r(67836),Z=r(90244),g=r(39807),b=r(86390),v=r(26829),y=r(52359),w=r(66672),_=r(41664),C=r.n(_),P=r(25412),S=(0,r(58175).Z)((0,o.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,o.jsx)("path",{fillRule:"evenodd",d:"M10.293 3.293a1 1 0 011.414 0l6 6a1 1 0 010 1.414l-6 6a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-4.293-4.293a1 1 0 010-1.414z",clipRule:"evenodd"})}),"ArrowRight"),k=r(9415),T=r(46723),D=r(54225),N=r(72428),E=r(30381),O=r.n(E),I=function(n){var e=n.history;return(0,o.jsxs)(l.Z,{sx:{boxShadow:1,transition:function(n){return n.transitions.create("box-shadow",{easing:n.transitions.easing.easeOut})},"&:hover":{boxShadow:100},"& > td":{backgroundColor:"primary",borderBottom:0}},children:[(0,o.jsx)(u.Z,{width:"25%",children:(0,o.jsx)(C(),{href:"/dashboard/historyForm/".concat(e._id),passHref:!0,children:(0,o.jsxs)(d.Z,{component:"a",sx:{alignItems:"center",display:"inline-flex",textDecoration:"none",whiteSpace:"nowrap"},children:[(0,o.jsx)(h.Z,{sx:{height:42,width:42},children:(0,P.Q)(e.users.name)}),(0,o.jsx)(d.Z,{sx:{ml:2},children:(0,o.jsx)(x.Z,{color:"textPrimary",variant:"subtitle1",children:e.trackingNumber})})]})})}),(0,o.jsx)(u.Z,{children:(0,o.jsxs)(d.Z,{sx:{display:"flex",flexDirection:"column"},children:[(0,o.jsx)(x.Z,{variant:"subtitle2",children:"Items"}),(0,o.jsx)(x.Z,{color:"textSecondary",variant:"body2",children:e.items[0].name+"..."})]})}),(0,o.jsx)(u.Z,{children:(0,o.jsxs)(d.Z,{sx:{display:"flex",flexDirection:"column"},children:[(0,o.jsx)(x.Z,{variant:"subtitle2",children:"Total QTY"}),(0,o.jsxs)(x.Z,{variant:"body2",children:["x ",e.changeQuantities.reduce((function(n,e){return n+e}),0)]})]})}),(0,o.jsx)(u.Z,{children:(0,o.jsxs)(d.Z,{sx:{display:"flex",flexDirection:"column"},children:[(0,o.jsx)(x.Z,{variant:"subtitle2",children:"Date"}),(0,o.jsx)(x.Z,{color:"textSecondary",variant:"body2",children:O()(e.createdAt).fromNow()})]})}),(0,o.jsx)(u.Z,{children:(0,o.jsx)(d.Z,{sx:{display:"flex",flexDirection:"column"}})}),(0,o.jsx)(u.Z,{align:"right",children:(0,o.jsx)(C(),{href:"/dashboard/historyForm/".concat(e._id),passHref:!0,children:(0,o.jsx)(f.Z,{component:"a",children:(0,o.jsx)(S,{fontSize:"small"})})})})]},e._id)};function B(){var n=(0,T.s)(),e=(0,s.Z)(c.useState(null),2),r=e[0],l=e[1],u=(0,c.useState)(0),h=u[0],f=u[1],_=(0,c.useState)(5),P=_[0],S=_[1],E=(0,c.useState)([]),O=E[0],B=E[1],W=(0,c.useCallback)((0,t.Z)((function(){var e,r;return(0,a.__generator)(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,k.wT()];case 1:return e=t.sent().data,n()&&B(e),[3,3];case 2:return r=t.sent(),console.error(r),[3,3];case 3:return[2]}}))})),[n]);(0,c.useEffect)((function(){W()}),[]);var H=function(n,e,r){return n.slice(e*r,e*r+r)}(O,h,P);return(0,o.jsx)(p.Z,{maxWidth:"lg",color:"background",children:(0,o.jsxs)(d.Z,{sx:{flexGrow:1,mx:1,pl:10,width:"100%",backgroundColor:"background.default",overflow:"hidden"},children:[(0,o.jsxs)(j.ZP,{container:!0,spacing:4,marginTop:"20px",justifyContent:"space-between",children:[(0,o.jsx)(x.Z,{variant:"h3",component:"h3",marginBottom:3,children:"History"}),(0,o.jsx)(C(),{href:"/dashboard/inbound",passHref:!0,children:(0,o.jsx)(D.Z,{variant:"contained",startIcon:(0,o.jsx)(N.Z,{}),sx:{backgroundColor:"#e70a3e",height:40},children:"INBOUND / OUTBOUND"})})]}),(0,o.jsxs)(j.ZP,{container:!0,spacing:2,sx:{pl:1,minWidth:600,mb:5},className:"searchBox",children:[(0,o.jsx)(j.ZP,{item:!0,xs:!0,children:(0,o.jsx)(m.Z,{fullWidth:!0,id:"standard-basic",label:"search history...",variant:"standard",color:"primary"})}),(0,o.jsx)(j.ZP,{item:!0,xs:2,display:"flex",justifyContent:"flex-end",pr:1,minWidth:160,children:(0,o.jsx)(y._,{dateAdapter:v.y,children:(0,o.jsx)(w.M,{label:"Start Date",value:r,onChange:function(n){l(n)},renderInput:function(n){return(0,o.jsx)(m.Z,(0,i.Z)({},n))}})})}),(0,o.jsx)(j.ZP,{item:!0,xs:2,display:"flex",justifyContent:"flex-end",pr:1,minWidth:160,children:(0,o.jsx)(y._,{dateAdapter:v.y,children:(0,o.jsx)(w.M,{label:"Finish Date",value:r,onChange:function(n){l(n)},renderInput:function(n){return(0,o.jsx)(m.Z,(0,i.Z)({},n))}})})})]}),(0,o.jsx)(Z.Z,{sx:{borderCollapse:"separate",borderSpacing:function(n){return"0 ".concat(n.spacing(3))},minWidth:600,marginTop:function(n){return"-".concat(n.spacing(3))},p:"1px"},children:(0,o.jsx)(g.Z,{children:H.map((function(n){return(0,o.jsx)(I,{history:n},n._id)}))})}),(0,o.jsx)(b.Z,{component:"div",count:O.length,onPageChange:function(n,e){f(e)},onRowsPerPageChange:function(n){S(parseInt(n.target.value,10))},page:h,rowsPerPage:P,rowsPerPageOptions:[5,10,25]})]})})}},9415:function(n,e,r){"use strict";r.d(e,{Ds:function(){return a},s1:function(){return s},wT:function(){return i}});var t=r(21744),i=function(){return(0,t.h)("/history/list",{method:"GET"})},s=function(n){return(0,t.h)("/history/get/".concat(n),{method:"GET"})},a=function(n){return(0,t.h)("/history/add",{method:"POST",data:n})}},25412:function(n,e,r){"use strict";r.d(e,{Q:function(){return t}});var t=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return n.replace(/\s+/," ").split(" ").slice(0,2).map((function(n){return n&&n[0].toUpperCase()})).join("")}}},function(n){n.O(0,[4885,9429,539,9280,2261,8402,1565,6287,9774,2888,179],(function(){return e=22460,n(n.s=e);var e}));var e=n.O();_N_E=e}]);