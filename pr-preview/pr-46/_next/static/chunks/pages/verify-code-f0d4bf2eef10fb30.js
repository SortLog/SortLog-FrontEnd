(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[684],{49837:function(e,r,n){"use strict";n.d(r,{Z:function(){return p}});var t=n(87462),i=n(63366),o=n(67294),a=n(86010),s=n(94780),c=n(81719),l=n(78884),u=n(70918),d=n(1588),f=n(34867);function h(e){return(0,f.Z)("MuiCard",e)}(0,d.Z)("MuiCard",["root"]);var m=n(85893);const x=["className","raised"],v=(0,c.ZP)(u.Z,{name:"MuiCard",slot:"Root",overridesResolver:(e,r)=>r.root})((()=>({overflow:"hidden"})));var p=o.forwardRef((function(e,r){const n=(0,l.Z)({props:e,name:"MuiCard"}),{className:o,raised:c=!1}=n,u=(0,i.Z)(n,x),d=(0,t.Z)({},n,{raised:c}),f=(e=>{const{classes:r}=e;return(0,s.Z)({root:["root"]},h,r)})(d);return(0,m.jsx)(v,(0,t.Z)({className:(0,a.Z)(f.root,o),elevation:c?8:void 0,ref:r,ownerState:d},u))}))},64518:function(e,r,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/verify-code",function(){return n(88523)}])},88523:function(e,r,n){"use strict";n.r(r),n.d(r,{default:function(){return E}});var t=n(85893),i=n(9008),o=n.n(i),a=n(41664),s=n.n(a),c=n(11163),l=n(30120),u=n(49837),d=n(29630),f=n(44373),h=n(68346),m=n(47568),x=n(26042),v=n(69396),p=n(20414),y=n(67294),Z=n(74231),g=n(82580),j=n(67836),b=n(32631),C=n(54225),_=n(89731),w=n(46723),S=function(e){var r=(0,w.s)(),n=(0,c.useRouter)(),i=(0,_.a)().verifyCode,o=(0,y.useRef)([]),a=(0,y.useState)(""),s=a[0],u=a[1],f=(0,g.TA)({enableReinitialize:!0,initialValues:{email:s,code:["","","","","",""],submit:null},validationSchema:Z.Ry({email:Z.Z_().email("Must be a valid email").max(255).required("Email is required"),code:Z.IX().of(Z.Z_().required("Code is required"))}),onSubmit:function(){var e=(0,m.Z)((function(e,t){var o;return(0,p.__generator)(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,i(e.email,e.code.join(""))];case 1:return a.sent(),r()&&n.push("/login").catch(console.error),[3,3];case 2:return o=a.sent(),console.error(o),r()&&(t.setStatus({success:!1}),t.setErrors({submit:o.message}),t.setSubmitting(!1)),[3,3];case 3:return[2]}}))}));return function(r,n){return e.apply(this,arguments)}}()});(0,y.useEffect)((function(){o.current=o.current.slice(0,6);var e=sessionStorage.getItem("username");e&&u(e)}),[]);var h=function(e){var r=e.clipboardData.getData("text").split("");if(6===r.length){var n=!0;r.forEach((function(e){Number.isInteger(parseInt(e,10))||(n=!1)})),n&&(f.setFieldValue("code",r),o.current[5].focus())}};return(0,t.jsxs)("form",(0,v.Z)((0,x.Z)({noValidate:!0,onSubmit:f.handleSubmit},e),{children:[s?(0,t.jsx)(j.Z,{disabled:!0,fullWidth:!0,margin:"normal",value:s}):(0,t.jsx)(j.Z,{autoFocus:!0,error:Boolean(f.touched.email&&f.errors.email),fullWidth:!0,helperText:f.touched.email&&f.errors.email,label:"Email Address",margin:"normal",name:"email",onBlur:f.handleBlur,onChange:f.handleChange,type:"email",value:f.values.email}),(0,t.jsx)(d.Z,{color:"textSecondary",sx:{mb:2,mt:3},variant:"subtitle2",children:"Verification code"}),(0,t.jsx)(l.Z,{sx:{columnGap:"16px",display:"grid",gridTemplateColumns:"repeat(7, 1fr)",pt:1},children:[1,2,3,4,5,6].map((function(e,r){return(0,t.jsx)(j.Z,{error:Boolean(Array.isArray(f.touched.code)&&6===f.touched.code.length&&f.errors.code),fullWidth:!0,inputRef:function(e){return o.current[r]=e},name:"code[".concat(r,"]"),onBlur:f.handleBlur,onKeyDown:function(e){return function(e,r){if("Enter"===e.code){if(f.values.code[r])return void f.setFieldValue("code[".concat(r,"]"),"");if(r>0)return f.setFieldValue("code[".concat(r,"]"),""),void o.current[r-1].focus()}Number.isInteger(parseInt(e.key,10))&&(f.setFieldValue("code[".concat(r,"]"),e.key),r<5&&o.current[r+1].focus())}(e,r)},onPaste:h,value:f.values.code[r],sx:{display:"inline-block",textAlign:"center","& .MuiInputBase-input":{textAlign:"center"}}},"code-".concat(r))}))}),Boolean(Array.isArray(f.touched.code)&&6===f.touched.code.length&&f.errors.code)&&(0,t.jsx)(b.Z,{error:!0,sx:{mx:"14px"},children:Array.isArray(f.errors.code)&&f.errors.code.find((function(e){return void 0!==e}))}),f.errors.submit&&(0,t.jsx)(l.Z,{sx:{mt:3},children:(0,t.jsx)(b.Z,{error:!0,children:f.errors.submit})}),(0,t.jsx)(l.Z,{sx:{mt:3},children:(0,t.jsx)(C.Z,{disabled:f.isSubmitting,fullWidth:!0,size:"large",type:"submit",variant:"contained",children:"Verify"})})]}))},A=n(37510),E=function(){var e=(0,c.useRouter)(),r=(0,_.a)().platform,n=e.query.disableGuard;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(o(),{children:(0,t.jsx)("title",{children:"Verify Code | Creatalog"})}),(0,t.jsx)(l.Z,{component:"main",sx:{backgroundColor:"background.default",display:"flex",flexDirection:"column",minHeight:"100vh"},children:(0,t.jsxs)(u.Z,{elevation:16,sx:{p:4},children:[(0,t.jsxs)(l.Z,{sx:{alignItems:"center",display:"flex",flexDirection:"column",justifyContent:"center"},children:[(0,t.jsx)(s(),{href:"/",passHref:!0,children:(0,t.jsx)("a",{children:(0,t.jsx)(A.T,{sx:{height:40,width:40}})})}),(0,t.jsx)(d.Z,{variant:"h4",children:"Verify Code"}),(0,t.jsx)(d.Z,{color:"textSecondary",sx:{mt:2},variant:"body2",children:"Confirm registration using your verification code"})]}),(0,t.jsx)(l.Z,{sx:{flexGrow:1,mt:3},children:"Amplify"===r&&(0,t.jsx)(S,{})}),(0,t.jsx)(f.Z,{sx:{my:3}}),"Amplify"===r&&(0,t.jsx)("div",{children:(0,t.jsx)(s(),{href:n?"/authentication/login?disableGuard=".concat(n):"/authentication/login",passHref:!0,children:(0,t.jsx)(h.Z,{color:"textSecondary",variant:"body2",children:"Did you not receive the code?"})})})]})})]})}}},function(e){e.O(0,[429,812,764,774,888,179],(function(){return r=64518,e(e.s=r);var r}));var r=e.O();_N_E=r}]);