(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[202],{17821:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard/inbound",function(){return a(30045)}])},46723:function(e,t,a){"use strict";a.d(t,{s:function(){return n}});var r=a(67294),n=function(){var e=(0,r.useRef)(!1);return(0,r.useEffect)((function(){return e.current=!0,function(){e.current=!1}}),[]),(0,r.useCallback)((function(){return e.current}),[])}},30045:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return re}});var r=a(47568),n=a(26042),i=a(69396),s=a(828),o=a(20414),c=a(85893),d=a(67294),u=a(9008),l=a.n(u),m=a(30120),p=a(79072),g=a(29630),h=a(54225),f=a(49837),v=a(62348),Z=a(18661),b=a(44373),x=a(67836),y=a(9041),j=a(98157),P=a(96506),A=a(51438),S=a(55049),C=a(81289),k=a(88619),T=a(80714),w=new Date,R=new(function(){function e(){(0,A.Z)(this,e)}var t=e.prototype;return t.getOrders=function(){var e=[{id:"5e887ac47eed253091be10cb",avatar:"https://shop.thesourcebulkfoods.com.au/wp-content/uploads/sites/3/2021/04/Coffee-beans.jpg",city:"Cleveland",country:"USA",currency:"$",email:"carson.darrin@devias.io",hasAcceptedMarketing:!0,isProspect:!1,isReturning:!0,name:"Carson Darrin",state:0,totalAmountSpent:300,totalOrders:3,updatedAt:(0,S.Z)((0,C.Z)(w,7),1).getTime()},{id:"5e887b209c28ac3dd97f6db5",avatar:"/mystatic/mock-images/avatars/avatar-fran_perez.png",city:"Atlanta",country:"USA",currency:"$",email:"fran.perez@devias.io",hasAcceptedMarketing:!0,isProspect:!0,isReturning:!1,name:"Fran Perez",state:0,totalAmountSpent:0,totalOrders:0,updatedAt:(0,S.Z)((0,C.Z)(w,1),2).getTime()},{id:"5e887b7602bdbc4dbb234b27",avatar:"/mystatic/mock-images/avatars/avatar-jie_yan_song.png",city:"North Canton",country:"USA",currency:"$",email:"jie.yan.song@devias.io",hasAcceptedMarketing:!1,isProspect:!1,isReturning:!1,name:"Jie Yan Song",state:0,totalAmountSpent:5600,totalOrders:6,updatedAt:(0,S.Z)((0,C.Z)(w,4),2).getTime()},{id:"5e86809283e28b96d2d38537",avatar:"/mystatic/mock-images/avatars/avatar-anika_visser.png",city:"Madrid",country:"Spain",currency:"$",email:"anika.visser@devias.io",hasAcceptedMarketing:!0,isProspect:!1,isReturning:!0,name:"Anika Visser",state:0,totalAmountSpent:500,totalOrders:1,updatedAt:(0,S.Z)((0,C.Z)(w,11),2).getTime()},{id:"5e86805e2bafd54f66cc95c3",avatar:"/mystatic/mock-images/avatars/avatar-miron_vitold.png",city:"San Diego",country:"USA",currency:"$",email:"miron.vitold@devias.io",hasAcceptedMarketing:!0,isProspect:!0,isReturning:!1,name:"Miron Vitold",totalAmountSpent:0,totalOrders:0,state:0,updatedAt:(0,S.Z)((0,C.Z)(w,7),3).getTime()},{id:"5e887a1fbefd7938eea9c981",avatar:"/mystatic/mock-images/avatars/avatar-penjani_inyene.png",city:"Berkeley",country:"USA",currency:"$",email:"penjani.inyene@devias.io",hasAcceptedMarketing:!1,isProspect:!0,isReturning:!1,name:"Penjani Inyene",state:0,totalAmountSpent:0,totalOrders:0,updatedAt:(0,S.Z)((0,C.Z)(w,5),4).getTime()},{id:"5e887d0b3d090c1b8f162003",avatar:"/mystatic/mock-images/avatars/avatar-omar_darboe.png",currency:"$",email:"omar.darobe@devias.io",hasAcceptedMarketing:!0,isProspect:!1,isReturning:!1,city:"Carson City",country:"USA",name:"Omar Darobe",state:0,totalAmountSpent:100,totalOrders:4,updatedAt:(0,S.Z)((0,C.Z)(w,15),4).getTime()},{id:"5e88792be2d4cfb4bf0971d9",avatar:"/static/mock-images/avatars/avatar-siegbert_gottfried.png",city:"Los Angeles",country:"USA",currency:"$",email:"siegbert.gottfried@devias.io",hasAcceptedMarketing:!0,isProspect:!1,isReturning:!0,name:"Siegbert Gottfried",state:0,totalAmountSpent:1e3,totalOrders:2,updatedAt:(0,S.Z)((0,C.Z)(w,2),5).getTime()},{id:"5e8877da9a65442b11551975",avatar:"/static/mock-images/avatars/avatar-iulia_albu.png",city:"Murray",country:"USA",email:"iulia.albu@devias.io",hasAcceptedMarketing:!0,isProspect:!0,isReturning:!1,name:"Iulia Albu",state:0,totalAmountSpent:0,totalOrders:0,updatedAt:(0,S.Z)((0,C.Z)(w,8),6).getTime()},{id:"5e8680e60cba5019c5ca6fda",avatar:"/static/mock-images/avatars/avatar-nasimiyu_danai.png",city:"Salt Lake City",country:"USA",currency:"$",email:"nasimiyu.danai@devias.io",hasAcceptedMarketing:!1,isProspect:!1,isReturning:!0,name:"Nasimiyu Danai",state:0,totalAmountSpent:200,totalOrders:7,updatedAt:(0,S.Z)((0,C.Z)(w,1),9).getTime()}];return Promise.resolve(e)},t.insertOrder=function(){return Promise.resolve({id:"5e86805e2bafd54f66cc95c3",address1:"Street John Wick, no. 7",address2:"House #25",avatar:"/static/mock-images/avatars/avatar-miron_vitold.png",balance:0,city:"San Diego",country:"USA",currency:"$",email:"miron.vitold@devias.io",hasDiscount:!1,isVerified:!0,name:"Miron Vitold",phone:"+55 748 327 439",state:0,vatRate:19,zipCode:"240355"})},t.getCustomerEmails=function(){var e=[{id:"5ece2ce3613486d95ffaea58",createdAt:(0,S.Z)((0,C.Z)((0,k.Z)(w,34),5),3).getTime(),description:"Order confirmation"},{id:"5ece2ce8cebf7ad1d100c0cd",createdAt:(0,S.Z)((0,C.Z)((0,k.Z)(w,49),11),4).getTime(),description:"Order confirmation"}];return Promise.resolve(e)},t.getCustomerInvoices=function(){var e=[{id:"528651571NT",issueDate:w.getTime(),status:"paid",amount:1358.75},{id:"311658671JR",issueDate:w.getTime(),status:"unpaid",amount:1451.75}];return Promise.resolve(e)},t.getCustomerLogs=function(){var e=[{id:"5ece2cfeb6e2ac847bba11ce",createdAt:(0,S.Z)((0,k.Z)((0,T.Z)(w,56),2),2).getTime(),description:"Purchase",ip:"84.234.243.42",method:"POST",route:"/api/purchase",status:200},{id:"5ece2d02510484b2952e1e05",createdAt:(0,S.Z)((0,k.Z)((0,T.Z)(w,56),2),2).getTime(),description:"Purchase",ip:"84.234.243.42",method:"POST",route:"/api/purchase",status:522},{id:"5ece2d08e2748e4e9788901a",createdAt:(0,S.Z)((0,k.Z)((0,T.Z)(w,23),8),2).getTime(),description:"Cart remove",ip:"84.234.243.42",method:"DELETE",route:"/api/products/d65654e/remove",status:200},{id:"5ece2d0c47214e342c2d7f28",createdAt:(0,S.Z)((0,k.Z)((0,T.Z)(w,54),20),2).getTime(),description:"Cart add",ip:"84.234.243.42",method:"GET",route:"/api/products/d65654e/add",status:200},{id:"5ece2d11e4060a97b2b57623",createdAt:(0,S.Z)((0,k.Z)((0,T.Z)(w,16),34),2).getTime(),description:"Cart add",ip:"84.234.243.42",method:"GET",route:"/api/products/c85727f/add",status:200},{id:"5ece2d16cf6d53d8e33656af",createdAt:(0,S.Z)((0,k.Z)((0,T.Z)(w,30),54),2).getTime(),description:"View product",ip:"84.234.243.42",method:"GET",route:"/api/products/c85727f",status:200},{id:"5ece2d1b2ec5071be9286a96",createdAt:(0,S.Z)((0,k.Z)((0,T.Z)(w,40),56),2).getTime(),description:"Get products",ip:"84.234.243.42",method:"GET",route:"/api/products",status:200},{id:"5ece2d22e68d5498917e47bc",createdAt:(0,S.Z)((0,k.Z)((0,T.Z)(w,5),57),2).getTime(),description:"Login",ip:"84.234.243.42",method:"POST",route:"/api/authentication/login",status:200}];return Promise.resolve(e)},e}()),_=a(99534),O=a(29815),I=(a(41664),a(92077)),M=a.n(I),E=a(45697),q=a.n(E),N=(0,a(81719).ZP)("span")((function(e){var t=e.theme,a=e.ownerState;return{alignItems:"center",backgroundColor:t.palette[a.color].main,borderRadius:12,color:t.palette[a.color].contrastText,cursor:"default",display:"inline-flex",flexGrow:0,flexShrink:0,fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(12),lineHeight:2,fontWeight:600,justifyContent:"center",letterSpacing:.5,minWidth:20,paddingLeft:t.spacing(1),paddingRight:t.spacing(1),textTransform:"uppercase",whiteSpace:"nowrap"}})),L=function(e){var t=e.color,a=void 0===t?"primary":t,r=e.children,s=(0,_.Z)(e,["color","children"]),o={color:a};return(0,c.jsx)(N,(0,i.Z)((0,n.Z)({ownerState:o},s),{children:r}))};L.propTypes={children:q().node,color:q().oneOf(["primary","secondary","error","info","warning","success"])};var D=a(90244),U=a(93978),G=a(69417),$=a(5605),z=a(75158),V=a(39807),W=a(44731),F=a(68346),B=a(86070),J=a(54552),H=a(12283),X=function(e){var t=e.customers,a=e.customersCount,r=e.onPageChange,s=e.onRowsPerPageChange,o=e.page,d=e.rowsPerPage,u=e.selectedItems,l=e.setSelectedItems,p=e.handleNumberChange,h=(0,_.Z)(e,["customers","customersCount","onPageChange","onRowsPerPageChange","page","rowsPerPage","selectedItems","setSelectedItems","handleNumberChange"]),f=(u.length,u.length>0&&u.length<t.length),v=u.length===t.length;return(0,c.jsxs)("div",(0,i.Z)((0,n.Z)({},h),{children:[(0,c.jsx)(H.L,{children:(0,c.jsxs)(D.Z,{sx:{minWidth:700},children:[(0,c.jsx)(U.Z,{children:(0,c.jsxs)(G.Z,{children:[(0,c.jsx)($.Z,{padding:"checkbox",children:(0,c.jsx)(z.Z,{checked:v,indeterminate:f,onChange:function(e){l(e.target.checked?t.map((function(e){return e._id})):[])}})}),(0,c.jsx)($.Z,{children:"Item"}),(0,c.jsx)($.Z,{children:"SKU"}),(0,c.jsx)($.Z,{children:"Stock"}),(0,c.jsx)($.Z,{children:"Price"}),(0,c.jsx)($.Z,{children:"Tag"}),(0,c.jsx)($.Z,{children:"Change Numbers"})]})}),(0,c.jsx)(V.Z,{children:t.map((function(e){var t=u.includes(e._id);return(0,c.jsxs)(G.Z,{hover:!0,selected:t,children:[(0,c.jsx)($.Z,{padding:"checkbox",children:(0,c.jsx)(z.Z,{checked:t,onChange:function(t){return a=e._id,void(u.includes(a)?l((function(e){return e.filter((function(e){return e!==a}))})):(l((function(e){return(0,O.Z)(e).concat([a])})),console.log(a)));var a},value:t})}),(0,c.jsx)($.Z,{children:(0,c.jsxs)(m.Z,{sx:{alignItems:"center",display:"flex"},children:[(0,c.jsx)(W.Z,{src:e.image,sx:{height:52,width:52}}),(0,c.jsxs)(m.Z,{sx:{ml:1},children:[(0,c.jsx)(F.Z,{color:"inherit",variant:"subtitle2",children:e.name}),(0,c.jsx)(g.Z,{color:"textSecondary",variant:"body2",children:e.category})]})]})}),(0,c.jsx)($.Z,{children:e.sku}),(0,c.jsxs)($.Z,{width:"20%",children:[(0,c.jsx)(B.Z,{value:e.quantity,variant:"determinate",color:e.quantity>=10?"success":"error",sx:{height:8,width:36}}),(0,c.jsxs)(g.Z,{color:"textSecondary",variant:"body2",children:[e.quantity," in stock"]})]}),(0,c.jsx)($.Z,{children:(0,c.jsx)(g.Z,{color:"success.main",variant:"subtitle2",children:M()(e.price).format("".concat(e.price,",0.00"))})}),(0,c.jsx)($.Z,{children:e.tags.map((function(e){return(0,c.jsx)(L,{color:"info",sx:{ml:1},children:e},e)}))}),(0,c.jsx)($.Z,{children:(0,c.jsx)(x.Z,{type:"number",size:"small",variant:"standard",value:e.state,onChange:function(t){return p(t,e)},InputProps:{disableUnderline:!0,style:{fontSize:"inherit"}}})})]},e._id)}))})]})}),(0,c.jsx)(J.Z,{component:"div",count:a,onPageChange:r,onRowsPerPageChange:s,page:o,rowsPerPage:d,rowsPerPageOptions:[5,10,25]})]}))};X.propTypes={customers:q().array.isRequired,customersCount:q().number.isRequired,onPageChange:q().func.isRequired,onRowsPerPageChange:q().func,page:q().number.isRequired,rowsPerPage:q().number.isRequired,selectedItems:q().array.isRequired,setSelectedItems:q().func.isRequired,handleNumberChange:q().func.isRequired};var K=a(46723),Y=a(78872),Q=[{label:"All",value:"all"},{label:"Accepts Marketing",value:"hasAcceptedMarketing"},{label:"Prospect",value:"isProspect"},{label:"Returning",value:"isReturning"}],ee=[{label:"Last update (newest)",value:"updatedAt|desc"},{label:"Last update (oldest)",value:"updatedAt|asc"},{label:"Total orders (highest)",value:"totalOrders|desc"},{label:"Total orders (lowest)",value:"totalOrders|asc"}],te=function(e,t,a){return t[a]<e[a]?-1:t[a]>e[a]?1:0},ae=function(e,t){var a=(0,s.Z)(t.split("|"),2),r=a[0],n=function(e,t){return"desc"===e?function(e,a){return te(e,a,t)}:function(e,a){return-te(e,a,t)}}(a[1],r),i=e.map((function(e,t){return[e,t]}));return i.sort((function(e,t){var a=n(e[0],t[0]);return 0!==a?a:e[1]-t[1]})),i.map((function(e){return e[0]}))},re=function(){var e=(0,K.s)(),t=(0,d.useRef)(null),a=(0,d.useState)([]),s=a[0],u=a[1],A=(0,d.useState)("all"),S=A[0],C=A[1],k=(0,d.useState)(0),T=k[0],w=k[1],_=(0,d.useState)(10),O=_[0],I=_[1],M=(0,d.useState)(ee[0].value),E=M[0],q=M[1],N=(0,d.useState)([]),L=N[0],D=N[1],U=(0,d.useState)({query:"",hasAcceptedMarketing:void 0,isProspect:void 0,isReturning:void 0}),G=U[0],$=U[1],z=(0,d.useCallback)((0,r.Z)((function(){var t,a;return(0,o.__generator)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,Y.Lv()];case 1:return(t=r.sent().data).forEach((function(e){e.changeNumber=0})),console.log(t),u(t),e()&&u(t),[3,3];case 2:return a=r.sent(),console.error(a),[3,3];case 3:return[2]}}))})),[e]);(0,d.useEffect)((function(){z()}),[]);var V=function(e,t){return e.filter((function(e){if(t.query){var a=!1;if(["email","name"].forEach((function(r){e[r].toLowerCase().includes(t.query.toLowerCase())&&(a=!0)})),!a)return!1}return!(t.hasAcceptedMarketing&&!e.hasAcceptedMarketing)&&!(t.isProspect&&!e.isProspect)&&!(t.isReturning&&!e.isReturning)}))}(s,G),W=function(e,t,a){return e.slice(t*a,t*a+a)}(ae(V,E),T,O);return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(l(),{children:(0,c.jsx)("title",{children:"Dashboard: Customer List | Creatalog"})}),(0,c.jsxs)(m.Z,{component:"main",sx:{flexGrow:1,py:8,mx:4},children:[(0,c.jsx)(m.Z,{sx:{mb:4},children:(0,c.jsxs)(p.ZP,{container:!0,justifyContent:"space-between",spacing:3,children:[(0,c.jsx)(p.ZP,{item:!0,children:(0,c.jsx)(g.Z,{variant:"h4",children:"Inbound & Outbound Orders"})}),(0,c.jsx)(p.ZP,{item:!0,children:(0,c.jsx)(h.Z,{startIcon:(0,c.jsx)(j.Z,{fontSize:"small"}),variant:"contained",onClick:function(){console.log(L);var e=[];s.filter((function(t){L.includes(t._id)&&e.push(t)})),console.log(e),R.insertOrder(e)},children:"Add"})})]})}),(0,c.jsxs)(f.Z,{children:[(0,c.jsx)(v.Z,{indicatorColor:"primary",onChange:function(e,t){var a=(0,i.Z)((0,n.Z)({},G),{hasAcceptedMarketing:void 0,isProspect:void 0,isReturning:void 0});"all"!==t&&(a[t]=!0),$(a),C(t)},scrollButtons:"auto",sx:{px:3},textColor:"primary",value:S,variant:"scrollable",children:Q.map((function(e){return(0,c.jsx)(Z.Z,{label:e.label,value:e.value},e.value)}))}),(0,c.jsx)(b.Z,{}),(0,c.jsxs)(m.Z,{sx:{alignItems:"center",display:"flex",flexWrap:"wrap",m:-1.5,p:3},children:[(0,c.jsx)(m.Z,{component:"form",onSubmit:function(e){e.preventDefault(),$((function(e){return(0,i.Z)((0,n.Z)({},e),{query:""})}))},sx:{flexGrow:1,m:1.5},children:(0,c.jsx)(x.Z,{defaultValue:"",fullWidth:!0,inputProps:{ref:t},InputProps:{startAdornment:(0,c.jsx)(y.Z,{position:"start",children:(0,c.jsx)(P.Z,{fontSize:"small"})})},placeholder:"Search orders"})}),(0,c.jsx)(x.Z,{label:"Sort By",name:"sort",onChange:function(e){q(e.target.value)},select:!0,SelectProps:{native:!0},sx:{m:1.5},value:E,children:ee.map((function(e){return(0,c.jsx)("option",{value:e.value,children:e.label},e.value)}))})]}),(0,c.jsx)(X,{customers:W,handleNumberChange:function(e,t){var a=e.target;t.changeNumber=a.value;var r=s.filter((function(e){return e._id!==t._id}));r.push(t),u(r)},customersCount:V.length,onPageChange:function(e,t){w(t)},onRowsPerPageChange:function(e){I(parseInt(e.target.value,10))},rowsPerPage:O,page:T,selectedItems:L,setSelectedItems:D})]})]})]})}},78872:function(e,t,a){"use strict";a.d(t,{Lv:function(){return n}});var r=a(21744),n=function(){return(0,r.h)("/items/list",{method:"GET"})}}},function(e){e.O(0,[429,72,549,299,919,313,509,774,888,179],(function(){return t=17821,e(e.s=t);var t}));var t=e.O();_N_E=t}]);