(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[449],{87027:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard/item-list",function(){return t(9881)}])},49208:function(e,n,t){"use strict";t.d(n,{I:function(){return d}});var r=t(26042),i=t(69396),o=t(99534),a=t(85893),s=t(45697),c=t.n(s),l=(0,t(81719).ZP)("span")((function(e){var n=e.theme,t=e.ownerState;return{alignItems:"center",backgroundColor:n.palette[t.color].main,borderRadius:12,color:n.palette[t.color].contrastText,cursor:"default",display:"inline-flex",flexGrow:0,flexShrink:0,fontFamily:n.typography.fontFamily,fontSize:n.typography.pxToRem(12),lineHeight:2,fontWeight:600,justifyContent:"center",letterSpacing:.5,minWidth:20,paddingLeft:n.spacing(1),paddingRight:n.spacing(1),textTransform:"uppercase",whiteSpace:"nowrap"}})),d=function(e){var n=e.color,t=void 0===n?"primary":n,s=e.children,c=(0,o.Z)(e,["color","children"]),d={color:t};return(0,a.jsx)(l,(0,i.Z)((0,r.Z)({ownerState:d},c),{children:s}))};d.propTypes={children:c().node,color:c().oneOf(["primary","secondary","error","info","warning","success","neutral"])}},9881:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return ge}});var r=t(47568),i=t(26042),o=t(69396),a=t(828),s=t(20414),c=t(85893),l=t(67294),d=t(36336),u=t(78340),x=t(80562),h=t(29630),p=t(5605),m=t(43918),j=t(79072),f=t(44373),g=t(81401),Z=t(89722),v=t(54225),b=t(72428),y=t(18377),w=t(81011),_=t(42761),C=t(78394),S=t(48056),P=t(49837),k=t(62026),F=t(91359),I=t(69647),T=t(21448),N=t(11961),A=t(64631),q=t(30120),L=t(67836),R=t(55343),D=t(58316),O=t(39063),E=t(9041),M=t(72389),Q=t(17928),W=t(9944),$=t(35142),z=t(77957),G=t(53626),U=t(92592),V=function(e){var n=e.data;console.log(n.id);var t=(0,l.useState)(""),i=t[0],o=t[1],a=function(){var e=(0,r.Z)((function(){var e,t;return(0,s.__generator)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,U.toDataURL("".concat(n.id))];case 1:return e=r.sent(),console.log(e),o(e),[3,3];case 2:return t=r.sent(),console.log(t),[3,3];case 3:return[2]}}))}));return function(){return e.apply(this,arguments)}}();return a(),(0,c.jsx)(P.Z,{sx:{width:"200px",height:"200px",position:"relative",padding:"10px"},children:(0,c.jsx)(F.Z,{sx:{width:"100%"},children:(0,c.jsx)("a",{href:i,download:!0,children:(0,c.jsx)("img",{src:i,alt:"QRCode"})})})})},B=t(49208);var H=(0,G.Z)((function(e){return{root:{"& .MuiFilledInput-root":{backgroundColor:"rgb(255, 255, 255)"},"& .MuiFilledInput-root:hover":{backgroundColor:"rgb(145, 145, 145)","@media (hover: none)":{backgroundColor:"rgb(13, 126, 239)"}},"& .MuiFilledInput-root.Mui-focused":{backgroundColor:"rgb(255, 255, 255)"}}}})),X=function(e){var n,t=e.isDrawerOpen,r=e.setIsDrawerOpen,i=e.data,o=(new Date).toLocaleDateString(),a=(new Date).toLocaleTimeString(),s=(0,l.useState)(!1),d=s[0],u=s[1],p=H(),m=(0,l.useState)(!1),g=m[0],Z=m[1];return(0,c.jsx)(c.Fragment,{children:(0,c.jsxs)(A.ZP,{anchor:"right",open:t,PaperProps:{sx:{width:1260,padding:2}},onClose:function(){return r(!1)},children:[(0,c.jsxs)(q.Z,{p:2,sx:{mt:3},children:[(0,c.jsx)(L.Z,{id:"standard-password-input",label:"Name",autoComplete:"current-password",variant:"standard",value:i.name,InputProps:{disableUnderline:!0},className:p.root,onChange:function(n){return e.onChange(n.target.value)},inputProps:{style:{fontSize:36}},sx:{width:300},onMouseEnter:function(){return u(!0)},onMouseLeave:function(){return u(!1)}}),d&&(0,c.jsx)(z.Z,{sx:{m:3}})]}),(0,c.jsx)(f.Z,{}),(0,c.jsxs)(j.ZP,{container:!0,spacing:6,paddingTop:"60px",paddingLeft:"76px",paddingRight:"166px",justifyContent:"space-between",children:[(0,c.jsxs)(h.Z,{variant:"subtitle1",component:"div",children:[(0,c.jsx)("text",{style:{color:"#a2a2a2"},children:"Sortlog ID:"})," ",(0,c.jsx)("text",{style:{color:"#131213"},children:i.sku})]}),(0,c.jsxs)(h.Z,{variant:"subtitle1",component:"div",children:[(0,c.jsx)("text",{style:{color:"#a2a2a2"},children:"Quantity:"})," ",(0,c.jsxs)("text",{style:{color:"#ad3c3c"},children:[i.quantity," ",(n=i.quantity,n>1?"units":"unit")]})]}),(0,c.jsxs)(h.Z,{variant:"subtitle1",component:"div",children:[(0,c.jsx)("text",{style:{color:"#a2a2a2"},children:"Total Value:"})," ",(0,c.jsxs)("text",{style:{color:"#131213"},children:["$",i.price&&parseInt(i.price).toFixed(2)]})]}),(0,c.jsxs)(h.Z,{variant:"subtitle1",component:"div",children:[(0,c.jsx)("text",{style:{color:"#a2a2a2"},children:"Updated at:"})," ",(0,c.jsxs)("text",{style:{color:"#131213"},children:[o," ",a]})]})]}),(0,c.jsxs)(j.ZP,{container:!0,sx:{mt:6},children:[(0,c.jsxs)(j.ZP,{children:[(0,c.jsxs)(j.ZP,{component:"form",sx:{"& .MuiTextField-root":{m:1,width:"25ch"}},noValidate:!0,autoComplete:"off",children:[(0,c.jsxs)("div",{children:[(0,c.jsxs)(R.Z,{sx:{m:1,width:"25ch"},variant:"outlined",children:[(0,c.jsx)(D.Z,{htmlFor:"outlined-adornment-amount",children:"Quantity"}),(0,c.jsx)(O.Z,{label:"Quantity",value:i.quantity,endAdornment:(0,c.jsx)(E.Z,{position:"end",children:(0,c.jsx)(x.Z,{children:(0,c.jsx)(Q.Z,{})})})})]}),(0,c.jsxs)(R.Z,{sx:{m:1,width:"25ch"},variant:"outlined",children:[(0,c.jsx)(D.Z,{htmlFor:"outlined-adornment-amount",children:"Min Level"}),(0,c.jsx)(O.Z,{label:"Min Level",value:0,endAdornment:(0,c.jsx)(E.Z,{position:"end",children:(0,c.jsx)(M.Z,{placement:"top",title:"Set a minimum level to easily identify low stock items. Item will be highlighted when its quantity is at or below min level.",arrow:!0,children:(0,c.jsx)(W.Z,{})})})})]})]}),(0,c.jsxs)("div",{children:[(0,c.jsxs)(R.Z,{sx:{m:1,width:"25ch"},variant:"outlined",children:[(0,c.jsx)(D.Z,{htmlFor:"outlined-adornment-amount",children:"Amount"}),(0,c.jsx)(O.Z,{label:"Amount",value:i.price&&"$"+parseInt(i.price).toFixed(2).toString(),endAdornment:(0,c.jsx)(E.Z,{position:"end",children:"AUD"})})]}),(0,c.jsxs)(R.Z,{sx:{m:1,width:"25ch"},variant:"outlined",children:[(0,c.jsx)(D.Z,{htmlFor:"outlined-adornment-amount",children:"Total value"}),(0,c.jsx)(O.Z,{label:"Total value",value:i.price&&"AU$"+(i.quantity*i.price).toFixed(2),endAdornment:(0,c.jsx)(E.Z,{position:"end",children:"AUD"})})]})]})]}),(0,c.jsxs)(j.ZP,{component:"form",sx:{"& .MuiTextField-root":{m:1,width:"52ch"}},noValidate:!0,autoComplete:"off",children:[(0,c.jsx)("div",{children:(0,c.jsx)(L.Z,{label:"Tags",value:i.tags&&i.tags.join("  |  ")})}),(0,c.jsx)("div",{children:(0,c.jsx)(L.Z,{label:"Notes",variant:"outlined",multiline:!0,maxRows:6})})]})]}),(0,c.jsx)(j.ZP,{children:(0,c.jsx)(I.Z,{component:"img",alt:"green iguana",height:"390",sx:{ml:6},image:i.image})})]}),(0,c.jsxs)(j.ZP,{m:"20px",children:[(0,c.jsx)(h.Z,{sx:{color:"#939393",mt:3},children:"QR / BARCODES"}),(0,c.jsx)(j.ZP,{container:!0,children:(0,c.jsx)(v.Z,{variant:"outlined",color:"inherit",sx:{mt:3,ml:3,color:"#c3c0c0"},onClick:function(){return Z(!g)},children:g?(0,c.jsx)(V,{data:{id:i.id}}):(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)($.Z,{sx:{color:"#000000"}}),(0,c.jsx)(h.Z,{ml:"10px",sx:{color:"#000000"},children:"LINK QR / BARCODE"})]})})})]}),(0,c.jsx)(f.Z,{}),(0,c.jsx)(j.ZP,{container:!0,paddingLeft:2,paddingTop:3,children:(0,c.jsx)(v.Z,{variant:"contained",color:"secondary",sx:{bgcolor:"#2329d3"},children:"Save"})})]})})};function K(e){for(var n=new Array(e.length),t=0;t<e.length;t++)n[t]=(0,c.jsx)(T.Z,(0,i.Z)({variant:"filled",label:e[t]},{icon:(0,c.jsx)(N.Z,{})}));return n}var Y=function(e){var n,t=e.data,r=(0,a.Z)(l.useState(!1),2),i=r[0],o=r[1],s=(0,a.Z)(l.useState(!0),2),d=s[0],u=s[1];return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(X,{isDrawerOpen:i,setIsDrawerOpen:o,qrCode:d,setQrCode:u,data:t}),(0,c.jsxs)(P.Z,{sx:{maxWidth:345},onClick:function(){return o(!0)},children:[(0,c.jsx)(I.Z,{component:"img",alt:"green iguana",height:"200",image:t.image}),(0,c.jsx)(F.Z,{children:(0,c.jsx)(h.Z,{gutterBottom:!0,variant:"h5",component:"div",children:t.name})}),(0,c.jsxs)(k.Z,{children:[(0,c.jsxs)(h.Z,{variant:"body2",color:"text.secondary",children:[t.quantity," ",(n=t.quantity,n>1?"units":"unit")]}),(0,c.jsx)(f.Z,{sx:{height:28,ml:2,mr:2},orientation:"vertical"}),(0,c.jsxs)(h.Z,{variant:"body2",color:"text.secondary",children:["$",parseInt(t.price).toFixed(2)]})]}),(0,c.jsx)(k.Z,{children:K(t.tags)})]})]})},J=t(62135),ee=t(23926),ne=t(61760),te=t(58402),re=t(90060),ie=t(852),oe=t(28922),ae=t(16584),se=["Table","Grid"],ce=function(e){var n=e.setIsGrid,t=(0,a.Z)(l.useState(!1),2),r=t[0],s=t[1],d=l.useRef(null),u=(0,a.Z)(l.useState(0),2),x=u[0],h=u[1],p=function(e){d.current&&d.current.contains(e.target)||s(!1)};return(0,c.jsxs)(l.Fragment,{children:[(0,c.jsx)(J.Z,{variant:"contained",ref:d,"aria-label":"split button",sx:{":hover":{backgroundColor:"#3a3939",color:"#ffffff"}},children:(0,c.jsx)(v.Z,{variant:"text",color:"inherit",size:"small","aria-controls":r?"split-button-menu":void 0,"aria-expanded":r?"true":void 0,"aria-label":"select merge strategy","aria-haspopup":"menu",onClick:function(){s((function(e){return!e}))},children:0==x?(0,c.jsx)(ae.Z,{}):(0,c.jsx)(oe.Z,{})})}),(0,c.jsx)(te.Z,{sx:{zIndex:1},open:r,anchorEl:d.current,role:void 0,transition:!0,disablePortal:!0,children:function(e){var t=e.TransitionProps,r=e.placement;return(0,c.jsx)(ne.Z,(0,o.Z)((0,i.Z)({},t),{style:{transformOrigin:"bottom"===r?"center top":"center bottom"},children:(0,c.jsx)(g.Z,{children:(0,c.jsx)(ee.Z,{onClickAway:p,children:(0,c.jsx)(ie.Z,{id:"split-button-menu",autoFocusItem:!0,children:se.map((function(e,t){return(0,c.jsxs)(re.Z,{selected:t===x,onClick:function(e){return function(e,n){h(n),console.info("You clicked ".concat(se[n])),s(!1)}(0,t)},children:[n(0!=x),e]},e)}))})})})}))}})]})},le=t(77283),de=t(44850),ue=t(99349),xe=t.n(ue),he=function(e){var n=(0,l.useState)(""),t=n[0],r=n[1];return e.searchData(t),(0,c.jsx)(de.Z,{in:!0,children:(0,c.jsxs)("div",{className:xe().card,children:[(0,c.jsx)("div",{className:xe().line}),(0,c.jsxs)("div",{className:xe().scanArea,children:[(0,c.jsx)("div",{className:xe().topL}),(0,c.jsx)("div",{className:xe().topR}),(0,c.jsx)("div",{className:xe().btmL}),(0,c.jsx)("div",{className:xe().btmR})]}),(0,c.jsx)(le.T,{ViewFinder:function(){},constraints:{facingMode:"user"},onResult:function(e,n){e&&(r(null===e||void 0===e?void 0:e.text),console.log(t)),n&&console.info(n)}}),(0,c.jsx)("p",{children:t})]})})},pe=t(78872);function me(e){return e>1?"units":"unit"}var je=[{field:"name",headerName:"Name"},{field:"quantity",headerName:"Quantity",valueGetter:function(e){return"".concat(e.row.quantity.toString()+" unit")}},{field:"price",headerName:"Price",valueGetter:function(e){return"".concat("$"+(n=e.row.price,parseFloat(n).toFixed(2).toString().split("").reverse().join("").replace(/(\d{3})/g,"$1,").replace(/\,$/,"").split("").reverse().join("")));var n}},{field:"tag",headerName:"Tag",renderCell:function(e){return(0,c.jsx)(p.Z,{children:e.row.tags.map((function(e){return(0,c.jsx)(B.I,{color:"success",children:e},e)}))})},flex:1}],fe=function(e,n){return e.filter((function(e){return e.name.includes(n)||e.tags.find((function(e){return e.includes(n)}))}))},ge=function(){var e=(0,l.useState)(!1),n=e[0],t=e[1],p=(0,l.useState)(""),P=p[0],k=p[1],F=(0,l.useState)(!1),I=F[0],T=F[1],N=(0,l.useState)(!1),A=N[0],q=N[1],L=(0,l.useState)(""),R=L[0],D=L[1],O=0,E=0,M=0,Q=(0,a.Z)(l.useState({}),2),W=Q[0],$=Q[1],z=(0,l.useState)(!0),G=z[0],U=z[1],V=(0,l.useState)([]),B=V[0],H=V[1];return(0,l.useEffect)((function(){var e=function(){var e=(0,r.Z)((function(){var e;return(0,s.__generator)(this,(function(n){switch(n.label){case 0:return[4,pe.Lv()];case 1:return e=n.sent().data,H(e),[2]}}))}));return function(){return e.apply(this,arguments)}}();e()}),[]),console.log(B),(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(d.Z,{maxWidth:"lg",color:"background",children:(0,c.jsx)("div",{className:"App",children:(0,c.jsxs)("header",{className:"App-header",children:[(0,c.jsx)(m.Z,{styles:{body:{backgroundColor:"#eeecec"}}}),(0,c.jsxs)(j.ZP,{container:!0,spacing:6,paddingTop:"60px",justifyContent:"space-between",children:[(0,c.jsxs)(h.Z,{variant:"h3",color:"#6a6a6c",paddingLeft:"76px",children:[(0,c.jsx)(u.Z,{fontSize:"large",sx:{marginRight:"10px",paddingTop:1}}),"All Items"]}),(0,c.jsx)(v.Z,{variant:"contained",startIcon:(0,c.jsx)(b.Z,{}),sx:{backgroundColor:"#e70a3e"},onClick:function(){T(!0),$({}),U(!1)},children:"ADD NEW"})]}),(0,c.jsx)(f.Z,{sx:{color:"#d5cfcf",margin:3,border:1,width:1129}}),(0,c.jsxs)(j.ZP,{container:!0,spacing:6,paddingTop:"50px",paddingLeft:"76px",justifyContent:"space-between",children:[(0,c.jsxs)(g.Z,{component:"form",sx:{maxHeight:"45px",maxWidth:"262px",display:"flex",alignItems:"center",width:300},children:[(0,c.jsx)(Z.Z,{sx:{paddingLeft:"6px",color:"#c2c0c0",width:30},children:(0,c.jsx)(_.Z,{})}),(0,c.jsx)(w.ZP,{sx:{ml:1,flex:1},placeholder:"Search All Items",inputProps:{"aria-label":"search google maps"},onChange:function(e){k(e.target.value)},value:R||P}),(0,c.jsx)(f.Z,{sx:{height:28,m:.5},orientation:"vertical"}),(0,c.jsx)(x.Z,{sx:{p:"10px",color:"#2d2a2a"},"aria-label":"QrCodeScannerIcon",onClick:function(){return q(!A)},children:A?(0,c.jsx)(he,{searchData:function(e){D(e)}}):(0,c.jsx)(C.Z,{})})]}),(0,c.jsx)(j.ZP,{children:(0,c.jsx)(ce,{setIsGrid:t,sx:{height:100}})})]}),fe(B,P).map((function(e){return(0,c.jsx)(y.Z,{sx:{mt:3,mr:3},children:(0,c.jsxs)(h.Z,{sx:{display:"none"},children:[O+=1," ",E+=e.quantity," ",M+=e.price]})},e)})),(0,c.jsxs)(j.ZP,{container:!0,spacing:6,pb:"10px",children:[(0,c.jsxs)(j.ZP,{item:!0,color:"#6a6a6c",children:["Folders:"," ",(0,c.jsx)(j.ZP,{sx:{display:"inline"},color:"#393939",fontWeight:"bold",children:"0"})]}),(0,c.jsxs)(j.ZP,{item:!0,color:"#6a6a6c",children:["Items:"," ",(0,c.jsx)(j.ZP,{sx:{display:"inline"},color:"#393939",fontWeight:"bold",children:O})]}),(0,c.jsxs)(j.ZP,{item:!0,color:"#6a6a6c",children:["Total Quantity:"," ",(0,c.jsxs)(j.ZP,{sx:{display:"inline"},color:"#393939",fontWeight:"bold",children:[E," ",me(E)]})]}),(0,c.jsxs)(j.ZP,{item:!0,color:"#6a6a6c",children:["Total Value:"," ",(0,c.jsxs)(j.ZP,{sx:{display:"inline"},color:"#393939",fontWeight:"bold",children:["$",M.toFixed(2)]})]})]}),(0,c.jsxs)(y.Z,{children:[n?(0,c.jsx)(j.ZP,{container:!0,children:fe(B,P).map((function(e){return(0,c.jsx)(y.Z,{sx:{mt:3,mr:3},id:e.id,children:(0,c.jsx)(Y,{data:e,details:W})},e.id)}))}):(0,c.jsx)(y.Z,{sx:{height:600,width:"100%",bgcolor:"#dadada"},children:(0,c.jsx)(S._,{rows:fe(B,P).map((function(e){return(0,o.Z)((0,i.Z)({},e),{id:e._id})})),columns:je,pageSize:5,rowsPerPageOptions:[5],checkboxSelection:!0,disableSelectionOnClick:!0,onRowClick:function(e){T(!0),$(e.row),U(!0)}})}),(0,c.jsx)(X,{isDrawerOpen:I,setIsDrawerOpen:T,qrCode:G,setQrCode:U,data:W})]})]})})})})}},78872:function(e,n,t){"use strict";t.d(n,{Lv:function(){return i}});var r=t(21744),i=function(){return(0,r.h)("/items/list",{method:"GET"})}},99349:function(e){e.exports={card:"qrcode-scanner_card__k1pl9",scanArea:"qrcode-scanner_scanArea__oCzOh",line:"qrcode-scanner_line__t2SU4","scan-line":"qrcode-scanner_scan-line__rg26C",topL:"qrcode-scanner_topL__qnf1F",topR:"qrcode-scanner_topR__8Vtkp",btmL:"qrcode-scanner_btmL__pyApW",btmR:"qrcode-scanner_btmR__0MTeh"}}},function(e){e.O(0,[738,429,72,376,915,313,389,196,774,888,179],(function(){return n=87027,e(e.s=n);var n}));var n=e.O();_N_E=n}]);