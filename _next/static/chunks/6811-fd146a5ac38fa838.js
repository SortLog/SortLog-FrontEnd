"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6811],{56811:function(e,n,t){t.d(n,{Z:function(){return ie}});var r=t(47568),i=t(26042),s=t(69396),c=t(99534),a=t(828),o=t(29815),u=t(20414),l=t(85893),d=t(67294),h=t(9008),x=t.n(h),f=t(30120),g=t(79072),m=t(29630),Z=t(49837),p=t(67836),j=t(9041),v=t(54225),y=t(64604),P=t(60082),b=t(79158),C=t(10160),w=t(96506),S=t(98157),k=t(49208),I=t(90244),_=t(93978),R=t(69417),q=t(5605),A=t(75158),L=t(39807),E=t(44731),F=t(68346),T=t(86070),W=t(59248),O=t(86390),D=t(12283),G=function(e){var n=e.tab,t=e.customers,r=e.setCustomers,a=e.customersCount,u=e.onPageChange,d=e.onRowsPerPageChange,h=e.page,x=e.rowsPerPage,Z=e.selectedItems,p=e.setSelectedItems,j=(0,c.Z)(e,["tab","customers","setCustomers","customersCount","onPageChange","onRowsPerPageChange","page","rowsPerPage","selectedItems","setSelectedItems"]),v=Z.length>0&&Z.length<t.length,y=Z.length===t.length;return(0,l.jsxs)("div",(0,s.Z)((0,i.Z)({},j),{children:[(0,l.jsx)(D.L,{children:(0,l.jsxs)(I.Z,{sx:{minWidth:700},children:[(0,l.jsx)(_.Z,{children:(0,l.jsxs)(R.Z,{children:[(0,l.jsx)(q.Z,{padding:"checkbox",children:(0,l.jsx)(A.Z,{checked:y,indeterminate:v,onChange:function(e){p(e.target.checked?t.map((function(e){return e._id})):[])}})}),(0,l.jsx)(q.Z,{children:"SKU"}),(0,l.jsx)(q.Z,{children:"Item"}),(0,l.jsx)(q.Z,{children:"Stock"}),(0,l.jsx)(q.Z,{children:"Price"}),(0,l.jsx)(q.Z,{children:"Tag"}),(0,l.jsx)(q.Z,{children:"Quantity"})]})}),(0,l.jsx)(L.Z,{children:t.map((function(e){var c=Z.includes(e._id);return(0,l.jsxs)(R.Z,{hover:!0,selected:c,children:[(0,l.jsx)(q.Z,{padding:"checkbox",children:(0,l.jsx)(A.Z,{checked:c,onChange:function(n){return t=e._id,void(Z.includes(t)?p((function(e){return e.filter((function(e){return e!==t}))})):p((function(e){return(0,o.Z)(e).concat([t])})));var t},value:c})}),(0,l.jsx)(q.Z,{children:e.sku}),(0,l.jsx)(q.Z,{children:(0,l.jsxs)(f.Z,{sx:{alignItems:"center",display:"flex"},children:[(0,l.jsx)(E.Z,{variant:"square",src:e.image,sx:{height:64,width:64}}),(0,l.jsxs)(f.Z,{sx:{ml:1},children:[(0,l.jsx)(F.Z,{color:"inherit",variant:"subtitle2",children:e.name}),(0,l.jsx)(m.Z,{color:"textSecondary",variant:"body2",children:e.category})]})]})}),(0,l.jsxs)(q.Z,{children:[(0,l.jsx)(T.Z,{value:e.quantity,variant:"determinate",color:e.quantity>=20?"success":"error",sx:{height:8,width:36}}),(0,l.jsxs)(m.Z,{color:"textSecondary",variant:"body2",children:[e.quantity," in stock"]})]}),(0,l.jsx)(q.Z,{children:(0,l.jsx)(m.Z,{color:"success.main",variant:"subtitle2",children:"$ ".concat(e.price)})}),(0,l.jsx)(q.Z,{children:e.tags.map((function(e){return(0,l.jsx)(k.I,{color:"info",sx:{ml:1},children:e},e)}))}),(0,l.jsx)(q.Z,{children:(0,l.jsx)(f.Z,{sx:{width:200},children:(0,l.jsxs)(g.ZP,{container:!0,spacing:2,alignItems:"center",children:[(0,l.jsx)(g.ZP,{item:!0,xs:!0,children:(0,l.jsx)(W.ZP,{value:e.change,onChange:function(n){r(t.map((function(t){return t._id===e._id?(0,s.Z)((0,i.Z)({},t),{change:n.target.value}):t})))},step:1,min:1,max:"outbound"===n?e.quantity:99})}),(0,l.jsx)(g.ZP,{item:!0,children:(0,l.jsx)(m.Z,{children:e.change})})]})})})]},e._id)}))})]})}),(0,l.jsx)(O.Z,{component:"div",count:a,onPageChange:u,onRowsPerPageChange:d,page:h,rowsPerPage:x,rowsPerPageOptions:[5,10,25]})]}))},N=t(46723),z=t(45500),M=t(78872),B=t(62026),Q=t(91359),U=t(69647),$=t(21448),H=t(44373),J=t(11961),K=t(41733);function V(e){for(var n=new Array(e.length),t=0;t<e.length;t++)n[t]=(0,l.jsx)($.Z,(0,i.Z)({variant:"filled",label:e[t]},{icon:(0,l.jsx)(J.Z,{})}));return n}var X=function(e){var n,t=e.data,r=e.onRemove;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(Z.Z,{sx:{maxWidth:345},children:[(0,l.jsx)(U.Z,{component:"img",alt:"green iguana",height:"200",image:t.image}),(0,l.jsx)(Q.Z,{children:(0,l.jsx)(m.Z,{gutterBottom:!0,variant:"h5",component:"div",children:t.name})}),(0,l.jsxs)(B.Z,{children:[(0,l.jsxs)(m.Z,{variant:"body2",color:"text.secondary",children:[t.change," ",(n=t.change,n>1?"units":"unit")]}),(0,l.jsx)(H.Z,{sx:{height:28,ml:2,mr:2},orientation:"vertical"}),(0,l.jsxs)(m.Z,{variant:"body2",color:"text.secondary",children:["$ ",t.price]})]}),(0,l.jsx)(B.Z,{children:V(t.tags)})]}),(0,l.jsx)(g.ZP,{container:!0,sx:{mt:1},justifyContent:"flex-end",children:(0,l.jsx)(v.Z,{variant:"outlined",startIcon:(0,l.jsx)(K.Z,{}),onClick:r,children:"Delete"})})]})},Y=t(93203),ee=t(60741),ne=[{label:"Last update (newest)",value:"updatedAt|desc"},{label:"Last update (oldest)",value:"updatedAt|asc"}],te=function(e,n,t){return n[t]<e[t]?-1:n[t]>e[t]?1:0},re=function(e,n){var t=(0,a.Z)(n.split("|"),2),r=t[0],i=function(e,n){return"desc"===e?function(e,t){return te(e,t,n)}:function(e,t){return-te(e,t,n)}}(t[1],r),s=e.map((function(e,n){return[e,n]}));return s.sort((function(e,n){var t=i(e[0],n[0]);return 0!==t?t:e[1]-n[1]})),s.map((function(e){return e[0]}))},ie=function(e){var n=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},t=e.type,a=e.setOrder,h=(0,N.s)(),k=(0,d.useRef)(null),I=(0,d.useState)([]),_=I[0],R=I[1],q=(0,d.useState)(0),A=q[0],L=q[1],E=(0,d.useState)(10),F=E[0],T=E[1],W=(0,d.useState)(ne[0].value),O=W[0],D=W[1],B=(0,d.useState)([]),Q=B[0],U=B[1],$=(0,d.useState)(!1),H=$[0],J=$[1],K=(0,d.useState)([]),V=K[0],te=K[1],ie=(0,d.useState)({query:"",hasAcceptedMarketing:void 0,isProspect:void 0,isReturning:void 0}),se=ie[0],ce=ie[1],ae=(0,d.useCallback)((0,r.Z)((function(){var e,n,t;return(0,u.__generator)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,M.Lv()];case 1:return e=r.sent().data,n=e.map((function(e){return(0,s.Z)((0,i.Z)({},e),{change:1})})),R(n),h()&&R(n),[3,3];case 2:return t=r.sent(),console.error(t),[3,3];case 3:return[2]}}))})),[h]);(0,d.useEffect)((function(){ae()}),[]);var oe=function(e,n){return e.filter((function(e){if(n.query){var t=!1;if(["email","name"].forEach((function(r){e[r].toLowerCase().includes(n.query.toLowerCase())&&(t=!0)})),!t)return!1}return!(n.hasAcceptedMarketing&&!e.hasAcceptedMarketing)&&!(n.isProspect&&!e.isProspect)&&!(n.isReturning&&!e.isReturning)}))}(_,se),ue=function(e,n,t){return e.slice(n*t,n*t+t)}(re(oe,O),A,F);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(x(),{children:(0,l.jsx)("title",{children:n(t)})}),(0,l.jsxs)(f.Z,{component:"main",sx:{flexGrow:1,py:8,mx:4},children:[(0,l.jsx)(f.Z,{sx:{mb:4},children:(0,l.jsx)(g.ZP,{container:!0,justifyContent:"space-between",spacing:3,children:(0,l.jsx)(g.ZP,{item:!0,children:(0,l.jsx)(m.Z,{variant:"h4",children:n(t)})})})}),(0,l.jsxs)(Z.Z,{children:[(0,l.jsxs)(f.Z,{sx:{alignItems:"center",display:"flex",flexWrap:"wrap",m:-1.5,p:3},children:[(0,l.jsx)(f.Z,{component:"form",onSubmit:function(e){e.preventDefault(),ce((function(e){return(0,s.Z)((0,i.Z)({},e),{query:""})}))},sx:{flexGrow:1,m:1.5},children:(0,l.jsx)(p.Z,{defaultValue:"",fullWidth:!0,inputProps:{ref:k},InputProps:{startAdornment:(0,l.jsx)(j.Z,{position:"start",children:(0,l.jsx)(w.Z,{fontSize:"small"})})},placeholder:"Search Items"})}),(0,l.jsx)(p.Z,{label:"Sort By",name:"sort",onChange:function(e){D(e.target.value)},select:!0,SelectProps:{native:!0},sx:{m:1.5},value:O,children:ne.map((function(e){return(0,l.jsx)("option",{value:e.value,children:e.label},e.value)}))})]}),(0,l.jsx)(G,{tab:t,customers:ue,setCustomers:R,customersCount:oe.length,onPageChange:function(e,n){L(n)},onRowsPerPageChange:function(e){T(parseInt(e.target.value,10))},rowsPerPage:F,page:A,selectedItems:Q,setSelectedItems:U})]}),(0,l.jsxs)(g.ZP,{container:!0,justifyContent:"space-between",spacing:3,sx:{mt:0},children:[(0,l.jsx)(g.ZP,{item:!0}),(0,l.jsx)(g.ZP,{item:!0,children:(0,l.jsx)(v.Z,{startIcon:(0,l.jsx)(S.Z,{fontSize:"small"}),variant:"contained",onClick:function(){var e=_.filter((function(e){return Q.includes(e._id)})),n=(0,o.Z)(V);n=n.map((function(n){return e.find((function(e){return e._id===n._id}))?(e=e.filter((function(e){return e._id!==n._id})),(0,s.Z)((0,i.Z)({},n),{change:n.change})):n})),n=(0,o.Z)(n).concat((0,o.Z)(e)),te(n)},children:"Add"})})]})]}),(0,l.jsx)(y.Z,{ariaLabel:"cart",sx:{position:"absolute",bottom:24,right:24},icon:(0,l.jsx)(P.Z,{badgeContent:V.length,children:(0,l.jsx)(z.Z,{sx:{color:"#fff"}})}),onClick:function(){return J(!0)}}),(0,l.jsx)(b.Z,{anchor:"right",open:H,onClose:function(){return J(!1)},onOpen:function(){return J(!0)},sx:{},children:(0,l.jsx)(f.Z,{sx:{mx:3,my:3},children:V.length>0?(0,l.jsxs)(l.Fragment,{children:[V.map((function(e){return(0,l.jsx)(f.Z,{sx:{mt:3,width:300},id:e.id,children:(0,l.jsx)(X,{data:e,onRemove:function(){return te(V.filter((function(n){return n._id!==e._id})))}})},e.id)})),(0,l.jsx)(C.Z,{color:"error",sx:{position:"absolute",bottom:24,right:96},onClick:function(){return te([])},children:(0,l.jsx)(Y.Z,{sx:{color:"#fff"}})}),(0,l.jsx)(C.Z,{color:"success",sx:{position:"absolute",bottom:24,right:24},onClick:function(){return a({trackingNumber:n(t)+" - ",Date:new Date,changeQuantities:V.map((function(e){return"inbound"===t?e.change:-e.change})),items:V.map((function(e){e.change;return(0,c.Z)(e,["change"])})),users:JSON.parse(localStorage.getItem("userInfo")||"{}")})},children:(0,l.jsx)(ee.Z,{sx:{color:"#fff"}})})]}):(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(m.Z,{variant:"h6",sx:{mt:3,mr:3,width:300},children:"Cart is empty"})})})})]})}},49208:function(e,n,t){t.d(n,{I:function(){return l}});var r=t(26042),i=t(69396),s=t(99534),c=t(85893),a=t(45697),o=t.n(a),u=(0,t(81719).ZP)("span")((function(e){var n=e.theme,t=e.ownerState;return{alignItems:"center",backgroundColor:n.palette[t.color].main,borderRadius:12,color:n.palette[t.color].contrastText,cursor:"default",display:"inline-flex",flexGrow:0,flexShrink:0,fontFamily:n.typography.fontFamily,fontSize:n.typography.pxToRem(12),lineHeight:2,fontWeight:600,justifyContent:"center",letterSpacing:.5,minWidth:20,paddingLeft:n.spacing(1),paddingRight:n.spacing(1),textTransform:"uppercase",whiteSpace:"nowrap"}})),l=function(e){var n=e.color,t=void 0===n?"primary":n,a=e.children,o=(0,s.Z)(e,["color","children"]),l={color:t};return(0,c.jsx)(u,(0,i.Z)((0,r.Z)({ownerState:l},o),{children:a}))};l.propTypes={children:o().node,color:o().oneOf(["primary","secondary","error","info","warning","success","neutral"])}},46723:function(e,n,t){t.d(n,{s:function(){return i}});var r=t(67294),i=function(){var e=(0,r.useRef)(!1);return(0,r.useEffect)((function(){return e.current=!0,function(){e.current=!1}}),[]),(0,r.useCallback)((function(){return e.current}),[])}},78872:function(e,n,t){t.d(n,{Lv:function(){return i}});var r=t(21744),i=function(){return(0,r.h)("/items/list",{method:"GET"})}}}]);